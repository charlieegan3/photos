(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["posts.show"],{"12b6":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("h1",{staticClass:"dark-gray"},[t._v("photos from "),e("span",{staticClass:"gray"},[t._v(t._s(t.title))])]),e("div",{staticClass:"mb2"},[e("span",{staticClass:"mid-gray mr1"},[t._v("Also try")]),t._l(t.relatedArchives,(function(a,s){return e("span",[e("router-link",{staticClass:"gray no-underline",attrs:{to:{name:"archive",params:{id:a.slug,type:a.type}}}},[t._v(t._s(a.text))]),s+1<t.relatedArchives.length?e("span",{staticClass:"gray"},[t._v(", ")]):t._e()],1)}))],2),t.items?e("Map",{attrs:{items:t.items,height:400}}):t._e(),t.items?e("Grid",{attrs:{items:t.items}}):t._e()],1)},n=[],i=(e("caad"),e("bc3a")),o=e.n(i),r=e("c1df"),l=e.n(r),c=e("454f"),u=e("a0be"),d={name:"archive",created:function(){var t=this;o.a.get("/data/index.json").then((function(a){var e=a.data;t.data=e})).catch((function(t){console.log(t)}))},data:function(){return{data:!1,items:!1}},watch:{data:function(){this.setItems(this.$route.params.id,this.$route.params.type)}},beforeRouteUpdate:function(t,a,e){this.setItems(t.params.id,t.params.type),e()},methods:{setItems:function(t,a){if(this.data){this.items=[];for(var e=0;e<this.data.length;e++)this.includePost(this.data[e].id,t,a)&&this.items.push({post_id:this.data[e].id,link:"/posts/"+this.data[e].id,location:{name:this.data[e].location_name,lat:this.data[e].lat,long:this.data[e].long}})}},includePost:function(t,a,e){var s=a;switch(e){case"year":if(t.substring(0,4)==s)return!0;break;case"month":if(t.substring(0,7)==s)return!0;break;case"day":if(t.substring(0,10)==s)return!0;break;case"all-month":var n=l()(t.substring(0,10));if(n.format("MMMM")==s)return!0;break;case"month-day":n=l()(t.substring(0,10));if(n.format("MM-DD")==s)return!0;break;case"weekday":n=l()(t.substring(0,10));if(n.format("dddd")==s)return!0;break}return!1}},computed:{title:function(){var t=this.$route.params.id,a=this.$route.params.type;return"year"==a?t.substring(0,4):"month"==a?l()(t+"-01").format("MMMM YYYY"):"day"==a?l()(t).format("MMMM Do YYYY"):"all-month"==a?t+" from all years":"weekday"==a?"Taken on a "+t:"month-day"==a?"Taken on a "+l()("2019-"+t).format("MMMM Do"):void 0},relatedArchives:function(){var t=this.$route.params.id,a=this.$route.params.type,e=[];if("year"==a)for(var s=[],n=0;n<this.data.length;n++){var i=this.data[n].id.substring(0,4);s.includes(i)||t==i||(s.push(i),e.push({slug:i,type:"year",text:"Year of "+i}))}if("month"==a){i=t.substring(0,4);e.push({slug:i,type:"year",text:"Year of "+i});var o=l()(t+"-01");e.push({slug:o.format("MMMM"),type:"all-month",text:"All "+o.format("MMMM")})}if("day"==a){o=l()(t);e.push({slug:o.format("dddd"),type:"weekday",text:"Taken on a "+o.format("dddd")}),e.push({slug:o.format("MM-DD"),type:"month-day",text:"Taken on a "+o.format("MMMM Do")}),e.push({slug:o.format("YYYY"),type:"year",text:"Taken in "+o.format("YYYY")})}if("all-month"==a){var r=["January","February","March","April","May","June","July","August","September","October","November","December"];for(n=0;n<r.length;n++)r[n]!=t&&e.push({slug:r[n],type:"all-month",text:"All "+r[n]})}if("weekday"==a){var c=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];for(n=0;n<c.length;n++)c[n]!=t&&e.push({slug:c[n],type:"weekday",text:"All "+c[n]+"s"})}return e}},components:{Grid:c["a"],Map:u["a"]}},p=d,h=e("2877"),m=Object(h["a"])(p,s,n,!1,null,null,null);a["default"]=m.exports},"1e81":function(t,a,e){"use strict";var s=e("3c0a"),n=e.n(s);n.a},"1f60":function(t,a,e){},"37d3":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"post-grid"},[e("div",[e("div",{staticClass:"post-container"},[t.data.is_video?e("VideoItem",{attrs:{post:this.$route.params.id}}):e("PostPhotoItem",{attrs:{post:this.$route.params.id,page:"post"}})],1),t.index?e("div",{staticClass:"pt1 ph2"},[t.nextPost?e("router-link",{staticClass:"fl silver no-underline",attrs:{to:"/posts/"+t.nextPost}},[t._v("←Next")]):t._e(),t.prevPost?e("router-link",{staticClass:"fr silver no-underline",attrs:{to:"/posts/"+t.prevPost}},[t._v("Previous→")]):t._e()],1):t._e()]),e("div",{staticClass:"f7 f5-ns ph3 pt2 pt0-l gray"},[e("p",{staticClass:"mt0 silver",domProps:{innerHTML:t._s(t.caption)}}),t.mapItems?e("Map",{attrs:{items:t.mapItems,height:200,maxZoom:12}}):t._e(),t.data?e("p",[t._v("View this post on "),e("a",{staticClass:"no-underline silver",attrs:{href:"https://instagram.com/p/"+t.data.code}},[t._v("Instagram")])]):t._e(),t.data?e("p",[t._v("View all from "),e("router-link",{staticClass:"silver no-underline",attrs:{to:{name:"archive",params:{id:t.date.format("YYYY-MM-DD"),type:"day"}}}},[t._v(t._s(t.date.format("dddd Do MMMM, YYYY")))])],1):t._e(),t.locationData?e("div",[null!==t.locationData.locations?e("div",[t.locationData.posts.length>1?e("p",[t._v(" "+t._s(t.locationData.posts.length-1)+" nearby posts from "),e("router-link",{staticClass:"silver no-underline",attrs:{to:{name:"location",params:{id:t.locationData.id,type:"locations"}}}},[t._v(" "+t._s(t.locationData.name.replace(/,.*$/,""))+" ")])],1):t._e(),t.locationData.posts.length>1?e("Grid",{staticClass:"h4",attrs:{items:t.sameLocationItems}}):t._e(),e("p",[t._v(" Browse nearby "),e("router-link",{staticClass:"di silver no-underline",attrs:{to:"/locations/"+t.locationData.id}},[t._v(" "+t._s(t.locationData.name.replace(/,.*$/,""))+" ")])],1),null!==t.locationData.locations?e("ul",t._l(t.locationData.locations,(function(a){return e("li",[e("router-link",{staticClass:"di silver no-underline",attrs:{to:"/locations/"+a.id}},[t._v(" "+t._s(a.name.replace(/,.*$/,""))+" ")])],1)})),0):t._e()],1):e("p",[t._v(" "+t._s(t.locationData.name.replace(/,.*$/,""))+" ")])]):t._e(),e("p",[t._l(t.tagList,(function(a){return t.data?[e("router-link",{staticClass:"dib silver no-underline f7 pr1",attrs:{to:"/tags/"+a}},[t._v("#"+t._s(a))])]:t._e()}))],2)],1)])])},n=[],i=(e("4de4"),e("d81d"),e("fb6a"),e("b0c0"),e("ac1f"),e("5319"),e("bc3a")),o=e.n(i),r=e("c1df"),l=e.n(r),c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return"post"==t.page?e("div",{staticClass:"image",style:"background-image: url("+t.url+"?page=post);"}):e("div",{staticClass:"image",style:"background-image: url("+t.url+");"})},u=[],d={props:["post","page"],computed:{url:function(){return"https://storage.googleapis.com/charlieegan3-photos/current/"+this.post+".jpg"}}},p=d,h=(e("443a"),e("2877")),m=Object(h["a"])(p,c,u,!1,null,null,null),f=m.exports,v=e("5fdc"),g=e("a0be"),_=e("454f"),y={name:"home",created:function(){var t=this;o.a.get("/data/posts/"+this.$route.params.id+".json").then((function(a){var e=a.data;t.data=e,t.mapItems=[{post_id:e.FullID,location:{name:e.location.name,lat:e.lat,long:e.long}}],o.a.get("/data/locations/"+t.data.location.id+".json").then((function(a){var e=a.data;t.locationData=e})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)})),o.a.get("/data/index.json").then((function(a){var e=a.data;t.index=e})).catch((function(t){console.log(t)}))},components:{VideoItem:v["a"],PostPhotoItem:f,Map:g["a"],Grid:_["a"]},data:function(){return{data:!1,locationData:!1,index:!1,mapItems:!1}},computed:{caption:function(){if(this.data)return this.data.caption.replace(/#[#\w\s]*$/,"").replace(".\n.\n.\n","")},date:function(){if(this.data)return l.a.unix(this.data.timestamp)},tagList:function(){if(this.data)return this.data.tags.map((function(t){return t.replace("#","")}))},sameLocationItems:function(){if(this.locationData){var t=this.data.FullID;return this.locationData.posts.map((function(a){if(a.FullID!==t)return{post_id:a.FullID,link:"/posts/"+a.FullID}})).filter((function(t){return null!=t})).slice(0,3)}},nextPost:function(){if(this.index&&this.data)for(var t=0;t<this.index.length;t++)if(this.index[t].id==this.data.FullID)return 0==t?null:this.index[t-1].id;return null},prevPost:function(){if(this.index&&this.data)for(var t=0;t<this.index.length;t++)if(this.index[t].id==this.data.FullID)return t==this.index.length-1?null:this.index[t+1].id;return null}}},M=y,b=(e("1e81"),Object(h["a"])(M,s,n,!1,null,null,null));a["default"]=b.exports},"3c0a":function(t,a,e){},"443a":function(t,a,e){"use strict";var s=e("1f60"),n=e.n(s);n.a},"4de4":function(t,a,e){"use strict";var s=e("23e7"),n=e("b727").filter,i=e("d039"),o=e("1dde"),r=o("filter"),l=r&&!i((function(){[].filter.call({length:-1,0:1},(function(t){throw t}))}));s({target:"Array",proto:!0,forced:!r||!l},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},"8e3a":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("h1",{staticClass:"dark-gray"},[t._v("photos taken in "),e("span",{staticClass:"gray"},[t._v(t._s(t.data.name))])]),t.items?e("Grid",{attrs:{items:t.items}}):t._e()],1)},n=[],i=e("454f"),o=e("bc3a"),r=e.n(o),l={name:"home",created:function(){var t=this;r.a.get("/data/locations/"+this.$route.params.id+".json").then((function(a){var e=a.data;t.data=e})).catch((function(t){console.log(t)}))},components:{Grid:i["a"]},watch:{data:function(t){this.items=[];for(var a=0;a<t.posts.length;a++)this.items.push({post_id:t.posts[a].FullID,link:"/posts/"+t.posts[a].FullID})}},data:function(){return{data:!1,items:!1}}},c=l,u=e("2877"),d=Object(u["a"])(c,s,n,!1,null,null,null);a["default"]=d.exports},"8ea7":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("h1",{staticClass:"dark-gray"},[t._v("photos tagged "),e("span",{staticClass:"gray"},[t._v("#"+t._s(t.data.name))])]),t.items?e("Map",{attrs:{items:t.items,height:400}}):t._e(),t.items?e("Grid",{attrs:{items:t.items}}):t._e()],1)},n=[],i=(e("b0c0"),e("bc3a")),o=e.n(i),r=e("454f"),l=e("a0be"),c={name:"home",created:function(){var t=this;o.a.get("/data/tags/"+this.$route.params.id+".json").then((function(a){var e=a.data;t.data=e})).catch((function(t){console.log(t)}))},components:{Grid:r["a"],Map:l["a"]},watch:{data:function(t){this.items=[];for(var a=0;a<t.posts.length;a++){var e=t.posts[a];this.items.push({post_id:e.FullID,link:"/posts/"+e.FullID,location:{name:e.location.name,lat:e.lat,long:e.long}})}}},data:function(){return{data:!1,items:!1}}},u=c,d=e("2877"),p=Object(d["a"])(u,s,n,!1,null,null,null);a["default"]=p.exports},caad:function(t,a,e){"use strict";var s=e("23e7"),n=e("4d64").includes,i=e("44d2");s({target:"Array",proto:!0},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")}}]);
//# sourceMappingURL=posts.show.e58f69f7.js.map